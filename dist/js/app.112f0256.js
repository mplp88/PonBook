(function(e){function a(a){for(var s,o,n=a[0],l=a[1],d=a[2],u=0,m=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);c&&c(a);while(m.length)m.shift()();return i.push.apply(i,d||[]),t()}function t(){for(var e,a=0;a<i.length;a++){for(var t=i[a],s=!0,n=1;n<t.length;n++){var l=t[n];0!==r[l]&&(s=!1)}s&&(i.splice(a--,1),e=o(o.s=t[0]))}return e}var s={},r={app:0},i=[];function o(a){if(s[a])return s[a].exports;var t=s[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=e,o.c=s,o.d=function(e,a,t){o.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,a){if(1&a&&(e=o(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var s in e)o.d(t,s,function(a){return e[a]}.bind(null,s));return t},o.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(a,"a",a),a},o.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var d=0;d<n.length;d++)a(n[d]);var c=l;i.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"034f":function(e,a,t){"use strict";var s=t("85ec"),r=t.n(s);r.a},"56d7":function(e,a,t){"use strict";t.r(a);t("e260"),t("e6cf"),t("cca6"),t("a79d");var s=t("2b0e"),r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"app"}},[t("NavBar"),t("router-view")],1)},i=[],o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[t("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[e._v("PonBook")]),e._m(0),t("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[t("ul",{staticClass:"navbar-nav mr-auto"},[t("li",{staticClass:"nav-item"},[t("router-link",{staticClass:"nav-link",class:{active:e.isActive},attrs:{to:"/"}},[e._v("Home "),e.isActive?t("span",{staticClass:"sr-only"},[e._v("(current)")]):e._e()])],1)]),t("ul",{staticClass:"navbar-nav ml-auto"},[t("li",{staticClass:"nav-item dropdown"},[t("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbar-dropdown","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("Cuenta")]),t("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbar-dropdown"}},[e.isLoggedIn?e._e():t("router-link",{staticClass:"dropdown-item",class:{active:e.isActive},attrs:{to:"/login"}},[e._v("Login "),e.isActive?t("span",{staticClass:"sr-only"},[e._v("(current)")]):e._e()]),e.isLoggedIn?e._e():t("router-link",{staticClass:"dropdown-item",class:{active:e.isActive},attrs:{to:"/register"}},[e._v("Registrarse "),e.isActive?t("span",{staticClass:"sr-only"},[e._v("(current)")]):e._e()]),e.isLoggedIn?t("router-link",{staticClass:"dropdown-item",class:{active:e.isActive},attrs:{to:"/myAccount"}},[e._v("Mi Cuenta "),e.isActive?t("span",{staticClass:"sr-only"},[e._v("(current)")]):e._e()]):e._e(),e.isLoggedIn?t("router-link",{staticClass:"dropdown-item",class:{active:e.isActive},attrs:{to:"/logout"}},[e._v("Salir "),e.isActive?t("span",{staticClass:"sr-only"},[e._v("(current)")]):e._e()]):e._e()],1)])])])],1)},n=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])}],l={computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},isActive:function(){return!1}}},d=l,c=t("2877"),u=Object(c["a"])(d,o,n,!1,null,null,null),m=u.exports,p={name:"App",components:{NavBar:m}},v=p,f=(t("034f"),Object(c["a"])(v,r,i,!1,null,null,null)),w=f.exports,g=t("8c4f"),h=(t("45fc"),t("2f62"));s["a"].use(h["a"]);var b=new h["a"].Store({state:{user:{}},mutations:{setUser:function(e,a){e.user=a},logout:function(e){e.user={}}},actions:{setUser:function(e,a){e.commit("setUser",a)},login:function(e,a){e.dispatch("setUser",a)},logout:function(e){e.commit("logout")}},getters:{isLoggedIn:function(e){return e.user._id},user:function(e){return e.user}}}),C=b,_=function(){var e=this,a=e.$createElement;e._self._c;return e._m(0)},P=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h1",[e._v("Bienvenido a mi pagina!")])])}],N={},y=N,V=Object(c["a"])(y,_,P,!1,null,null,null),U=V.exports,E=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("h2",[e._v("Ingresar a la pagina")]),t("form",{on:{submit:function(a){return a.preventDefault(),e.login(a)}}},[t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{id:"username",name:"username",type:"text",placeholder:"Usuario"},domProps:{value:e.user.username},on:{input:function(a){a.target.composing||e.$set(e.user,"username",a.target.value)}}})]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{id:"password",name:"password",type:"password",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(a){a.target.composing||e.$set(e.user,"password",a.target.value)}}})]),e._m(0)])])},k=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"form-group"},[t("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Ingresar"}})])}],x=(t("d3b7"),t("3d20")),$=t.n(x),O={data:function(){return{user:{username:"",password:""}}},methods:{login:function(){var e=this;$.a.fire({icon:"info",text:"Por favor, espere.",title:"Ingresando!",onBeforeOpen:function(){$.a.showLoading(),fetch("/api/account/login",{method:"POST",body:JSON.stringify(e.user),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){a._id?($.a.fire({icon:"success",title:"Bienvenido ".concat(e.user.username),timer:1500,timerProgressBar:!0}),e.$store.dispatch("login",a),e.$router.push("/myAccount")):$.a.fire({icon:"error",title:"Error",text:"Credenciales incorrectas"})})).catch((function(e){$()("Error","Error","error"),console.error(e)}))}})}},mounted:function(){document.getElementById("username").focus()}},A=O,j=Object(c["a"])(A,E,k,!1,null,null,null),B=j.exports,M=function(){var e=this,a=e.$createElement;e._self._c;return e._m(0)},L=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("h2",[e._v("Saliendo...")]),t("h4",[e._v("¡Te esperamos de vuelta pronto!")])])}],S={mounted:function(){var e=this;setTimeout((function(){e.$store.dispatch("logout"),e.$router.push("/")}),1e3)}},I=S,T=Object(c["a"])(I,M,L,!1,null,null,null),D=T.exports,J=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("h2",[e._v("Nuevo usuario")]),t("form",{attrs:{novalidate:""},on:{submit:function(a){return a.preventDefault(),e.register(a)}}},[t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.firstName,expression:"newUser.firstName"}],staticClass:"form-control",class:{"is-valid":e.wasValidated&&e.firstNameValid,"is-invalid":e.wasValidated&&!e.firstNameValid},attrs:{id:"firstName",name:"firstName",type:"text",placeholder:"Nombre"},domProps:{value:e.newUser.firstName},on:{input:function(a){a.target.composing||e.$set(e.newUser,"firstName",a.target.value)}}}),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("El nombre es obligatorio.")])]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.lastName,expression:"newUser.lastName"}],staticClass:"form-control",class:{"is-valid":e.wasValidated&&e.lastNameValid,"is-invalid":e.wasValidated&&!e.lastNameValid},attrs:{id:"lasName",name:"lasName",type:"text",placeholder:"Apellido"},domProps:{value:e.newUser.lastName},on:{input:function(a){a.target.composing||e.$set(e.newUser,"lastName",a.target.value)}}}),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("El apellido es obligatorio.")])]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.age,expression:"newUser.age"}],staticClass:"form-control",class:{"is-valid":e.wasValidated&&e.ageValid,"is-invalid":e.wasValidated&&!e.ageValid},attrs:{id:"age",name:"age",type:"number",placeholder:"Edad"},domProps:{value:e.newUser.age},on:{input:function(a){a.target.composing||e.$set(e.newUser,"age",a.target.value)}}}),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("La edad es obligatoria y debe ser 13 años o mayor.")])]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.username,expression:"newUser.username"}],staticClass:"form-control",class:{"is-valid":e.wasValidated&&e.usernameValid,"is-invalid":e.wasValidated&&!e.usernameValid},attrs:{id:"username",name:"username",type:"text",placeholder:"Usuario"},domProps:{value:e.newUser.username},on:{input:function(a){a.target.composing||e.$set(e.newUser,"username",a.target.value)}}}),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("El nombre de usuario es obligatorio y debe contener más de 3 caracteres.")])]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],staticClass:"form-control",class:{"is-valid":e.wasValidated&&e.passwordValid,"is-invalid":e.wasValidated&&!e.passwordValid},attrs:{id:"password",name:"password",type:"password",placeholder:"Password"},domProps:{value:e.newUser.password},on:{input:function(a){a.target.composing||e.$set(e.newUser,"password",a.target.value)}}}),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("El password es obligatorio y debe contener al menos una letra minuscula, una letra mayuscula, un número y un caracter especial (!, @, #, $, %, ^, & o *).")])]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatPassword,expression:"repeatPassword"}],staticClass:"form-control",class:{"is-valid":e.wasValidated&&e.repeatPasswordValid,"is-invalid":e.wasValidated&&!e.repeatPasswordValid},attrs:{id:"repeatPassword",name:"repeatPassword",type:"password",placeholder:"Repetir Password"},domProps:{value:e.repeatPassword},on:{input:function(a){a.target.composing||(e.repeatPassword=a.target.value)}}}),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("Los passwords no coinciden.")])]),e._m(0)])])},R=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"form-group"},[t("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Enviar"}})])}],q={data:function(){return{newUser:{firstName:"",lastName:"",age:"",username:"",password:""},repeatPassword:"",wasValidated:!1}},methods:{register:function(){var e=this;e.validate()?$.a.fire({icon:"info",text:"Por favor, espere.",title:"Registrando!",onBeforeOpen:function(){$.a.showLoading(),fetch("http://localhost:8081/api/account/register",{method:"POST",body:JSON.stringify(e.newUser),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){a.ok?$.a.fire({icon:"success",title:"Hecho! Redirigiendo a la página de login",timer:2e3,timerProgressBar:!0}).then((function(){console.log(a.result),e.$router.push("/login")})):($.a.fire("Error","Ocurrió un error en la registración","error"),console.error(a.error))})).catch((function(e){$.a.fire("Error","Error","error"),console.error(e)}))}}):$.a.fire("Datos inválidos","Por favor revise los campos marcados en rojo.","error")},validate:function(){var e=this,a=!0;return e.wasValidated=!0,a=a&&e.firstNameValid,a=a&&e.lastNameValid,a=a&&e.ageValid,a=a&&e.usernameValid,a=a&&e.passwordValid,a=a&&e.repeatPasswordValid,a}},computed:{firstNameValid:function(){return""!=this.newUser.firstName},lastNameValid:function(){return""!=this.newUser.lastName},ageValid:function(){return""!=this.newUser.age&&this.newUser.age>12},usernameValid:function(){return""!=this.newUser.username&&this.newUser.username.length>3},passwordValid:function(){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(this.newUser.password)},repeatPasswordValid:function(){return""!=this.repeatPassword&&this.repeatPassword==this.newUser.password}},mounted:function(){document.getElementById("firstName").focus()}},H=q,z=Object(c["a"])(H,J,R,!1,null,null,null),Z=z.exports,F=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("h1",[e._v("Cuenta")]),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-1"},[e.editMode?e._e():t("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.toggleEditMode(a)}}},[e._v("Editar")])])]),t("form",{on:{submit:function(a){return a.preventDefault(),e.edit(a)}}},[t("div",{staticClass:"row mb-3"},[t("label",{staticClass:"col",attrs:{for:"username"}},[e._v("Nombre de usuario:")]),t("span",{staticClass:"col"},[e._v(e._s(e.user.username))])]),t("div",{staticClass:"row mb-3"},[t("label",{staticClass:"col",attrs:{for:"firstName"}},[e._v("Nombre:")]),e.editMode?t("input",{directives:[{name:"model",rawName:"v-model",value:e.editUser.firstName,expression:"editUser.firstName"}],staticClass:"form-control col d-inline",class:{"is-valid":e.wasValidated&&e.firstNameValid,"is-invalid":e.wasValidated&&!e.firstNameValid},attrs:{type:"text",placeholder:"Nombre"},domProps:{value:e.editUser.firstName},on:{input:function(a){a.target.composing||e.$set(e.editUser,"firstName",a.target.value)}}}):t("span",{staticClass:"col"},[e._v(e._s(e.user.firstName))]),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("El nombre es obligatorio.")])]),t("div",{staticClass:"row mb-3"},[t("label",{staticClass:"col",attrs:{for:"lastName"}},[e._v("Apellido:")]),e.editMode?t("input",{directives:[{name:"model",rawName:"v-model",value:e.editUser.lastName,expression:"editUser.lastName"}],staticClass:"form-control col d-inline",class:{"is-valid":e.wasValidated&&e.lastNameValid,"is-invalid":e.wasValidated&&!e.lastNameValid},attrs:{type:"text",placeholder:"Apellido"},domProps:{value:e.editUser.lastName},on:{input:function(a){a.target.composing||e.$set(e.editUser,"lastName",a.target.value)}}}):t("span",{staticClass:"col"},[e._v(e._s(e.user.lastName))]),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("El apellido es obligatorio.")])]),t("div",{staticClass:"row mb-3"},[t("label",{staticClass:"col",attrs:{for:"age"}},[e._v("Edad:")]),e.editMode?t("input",{directives:[{name:"model",rawName:"v-model",value:e.editUser.age,expression:"editUser.age"}],staticClass:"form-control col d-inline",class:{"is-valid":e.wasValidated&&e.ageValid,"is-invalid":e.wasValidated&&!e.ageValid},attrs:{type:"number",placeholder:"Edad"},domProps:{value:e.editUser.age},on:{input:function(a){a.target.composing||e.$set(e.editUser,"age",a.target.value)}}}):t("span",{staticClass:"col"},[e._v(e._s(e.user.age))]),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("La edad es obligatoria y debe ser 13 años o mayor.")])]),t("div",{staticClass:"row mb-3"},[e.editMode?t("input",{staticClass:"btn btn-primary offset-3 col-2",attrs:{type:"submit",value:"Enviar"}}):e._e(),e.editMode?t("input",{staticClass:"btn btn-danger offset-2 col-2",attrs:{type:"button",value:"Cancelar"},on:{click:function(a){return a.preventDefault(),e.toggleEditMode(a)}}}):e._e()])]),t("hr"),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-2"},[e.editMode?e._e():t("router-link",{attrs:{to:"/changePassword"}},[e._v("Cambiar password")])],1)])])},G=[],K={data:function(){return{editUser:{firstName:"",lastName:"",age:""},editMode:!1,wasValidated:!1}},methods:{toggleEditMode:function(){var e=this;e.wasValidated=!1,e.editMode=!e.editMode,e.editUser.firstName?e.editUser={firstName:"",lastName:"",age:""}:(e.editUser.firstName=e.user.firstName,e.editUser.lastName=e.user.lastName,e.editUser.age=e.user.age)},edit:function(){var e=this;e.validateInfo()&&$.a.fire({icon:"info",text:"Por favor, espere.",title:"Modificando!",onBeforeOpen:function(){$.a.showLoading(),fetch("http://localhost:8081/api/account/updateAccountInfo/".concat(e.user.username),{method:"POST",body:JSON.stringify(e.editUser),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){a.ok?$.a.fire({icon:"success",title:"Hecho!",timer:2e3,timerProgressBar:!0}).then((function(){console.log(a.result),e.$store.dispatch("setUser",a.result),e.toggleEditMode()})):($.a.fire("Error","Ocurrió un error en la modificación","error"),console.error(a.error))})).catch((function(e){$.a.fire("Error","Error","error"),console.error(e)}))}})},validateInfo:function(){var e=this,a=!0;return e.wasValidated=!0,a=a&&e.firstNameValid,a=a&&e.lastNameValid,a=a&&e.ageValid,a}},computed:{user:function(){return this.$store.getters.user},firstNameValid:function(){return""!=this.editUser.firstName},lastNameValid:function(){return""!=this.editUser.lastName},ageValid:function(){return""!=this.editUser.age&&this.editUser.age>12}}},Q=K,W=Object(c["a"])(Q,F,G,!1,null,null,null),X=W.exports,Y=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("h1",[e._v("Cambio de contraseña")]),t("form",{on:{submit:function(a){return a.preventDefault(),e.changePassword(a)}}},[t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPassword,expression:"oldPassword"}],staticClass:"form-control",class:{"is-valid":e.wasValidated&&e.oldPasswordValid,"is-invalid":e.wasValidated&&!e.oldPasswordValid},attrs:{type:"password",placeholder:"Password anterior"},domProps:{value:e.oldPassword},on:{input:function(a){a.target.composing||(e.oldPassword=a.target.value)}}}),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("El password es obligatorio")])]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],staticClass:"form-control",class:{"is-valid":e.wasValidated&&e.newPasswordValid,"is-invalid":e.wasValidated&&!e.newPasswordValid},attrs:{type:"password",placeholder:"Password nuevo"},domProps:{value:e.newPassword},on:{input:function(a){a.target.composing||(e.newPassword=a.target.value)}}}),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("El password es obligatorio, debe contener al menos una letra minuscula, una letra mayuscula, un número y un caracter especial (!, @, #, $, %, ^, & o *) y ser distinto al anterior.")])]),t("div",{staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatPassword,expression:"repeatPassword"}],staticClass:"form-control",class:{"is-valid":e.wasValidated&&e.repeatPasswordValid,"is-invalid":e.wasValidated&&!e.repeatPasswordValid},attrs:{type:"password",placeholder:"Repetir Password"},domProps:{value:e.repeatPassword},on:{input:function(a){a.target.composing||(e.repeatPassword=a.target.value)}}}),t("div",{staticClass:"valid-feedback"},[e._v("Bien.")]),t("div",{staticClass:"invalid-feedback"},[e._v("Los passwords no coinciden.")])]),t("div",{staticClass:"row mb-3"},[e._m(0),t("div",{staticClass:"col-2 offset-2"},[t("input",{staticClass:"btn btn-danger",attrs:{type:"buton",value:"Cancelar"},on:{click:e.cancel}})])])])])},ee=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"col-2 offset-3"},[t("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"Cambiar Password"}})])}],ae={data:function(){return{oldPassword:"",newPassword:"",repeatPassword:"",wasValidated:!1}},methods:{changePassword:function(){var e=this;e.validate()&&fetch("http://localhost:8081/api/account/changePassword/".concat(e.$store.getters.user.username),{method:"POST",body:JSON.stringify({oldPassword:e.oldPassword,newPassword:e.newPassword}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){a.ok?(e.$store.dispatch("setUser",a.result),console.log(a.result),$.a.fire({title:"Hecho",text:"El password se cambió con éxito",icon:"success",timer:2e3,timerProgressBar:!0}).then((function(){return e.$router.push("/myAccount")}))):($.a.fire("Error","Ocurrió un error intentando cambiar el password","error"),console.error(a.error))})).catch((function(e){$.a.fire("Error","Error","error"),console.error(e)}))},cancel:function(){this.$router.go(-1)},validate:function(){var e=this,a=!0;return e.wasValidated=!0,a=a&&e.oldPasswordValid,a=a&&e.newPasswordValid,a=a&&e.repeatPasswordValid,a}},computed:{oldPasswordValid:function(){return""!=this.oldPassword&&this.oldPassword==this.$store.getters.user.password},newPasswordValid:function(){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})/.test(this.newPassword)&&this.newPassword!=this.$store.getters.user.password},repeatPasswordValid:function(){return""!=this.repeatPassword&&this.repeatPassword==this.newPassword}}},te=ae,se=Object(c["a"])(te,Y,ee,!1,null,null,null),re=se.exports,ie=[{name:"Index",path:"/",component:U},{name:"Login",path:"/login",component:B},{name:"Logout",path:"/logout",component:D,meta:{requiresAuth:!0}},{name:"Register",path:"/register",component:Z},{name:"MyAccount",path:"/myAccount",component:X,meta:{requiresAuth:!0}},{name:"ChangePassword",path:"/changePassword",component:re,meta:{requiresAuth:!0}}],oe=new g["a"]({routes:ie,mode:"history"});oe.beforeEach((function(e,a,t){e.matched.some((function(e){return e.meta.requiresAuth}))&&(C.getters.isLoggedIn||t({name:"Login"})),t()}));var ne=oe;s["a"].config.productionTip=!1,s["a"].use(g["a"]),new s["a"]({router:ne,store:C,render:function(e){return e(w)}}).$mount("#app")},"85ec":function(e,a,t){}});
//# sourceMappingURL=app.112f0256.js.map